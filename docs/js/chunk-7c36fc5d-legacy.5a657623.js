(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7c36fc5d"],{"016b":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-toolbar",{attrs:{dense:"",fixed:"",flat:""}},[n("v-toolbar-title",[t._v("总计：¥"+t._s(t.totalAmount))])],1),n("v-data-table",{staticClass:"pt-5",attrs:{headers:t.headers,items:t.items,"must-sort":"","hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){return[n("tr",{on:{click:function(t){e.expanded=!e.expanded}}},[n("td",{},[t._v(t._s(e.item.createdAt.toLocaleDateString()))]),n("td",{},[t._v(t._s(e.item.name))]),n("td",{},[n("span",{class:t.typeColorClass(e.item.type)},[t._v(t._s(e.item.type))])]),n("td",{},[t._v("¥"+t._s(e.item.amount))])])]}},{key:"expand",fn:function(e){return[n("v-card",{attrs:{flat:""}},[n("v-card-text",[n("span"),t._v(t._s(e.item.createdAt.toLocaleDateString())+" "+t._s(e.item.createdAt.toLocaleTimeString("zh",{hour12:!1,hour:"numeric",minute:"numeric"}))+"\n        "),n("p",[t._v(t._s(e.item.remark))])]),n("v-card-actions",[n("v-btn",{attrs:{color:"info",disabled:""}},[n("v-icon",[t._v("edit")]),t._v(" 编辑")],1),n("v-btn",{attrs:{color:"warning"},on:{click:function(n){t.onBtnDeleteClick(e)}}},[n("v-icon",[t._v("close")]),t._v(" 删除")],1)],1)],1)]}}])}),n("bottom-nav",{on:{addClick:t.onBtnAddClick}}),n("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[n("v-card",[n("v-toolbar",{attrs:{dark:"",color:"primary"}},[n("v-btn",{attrs:{icon:"",dark:""},on:{click:function(e){t.dialog=!1}}},[n("v-icon",[t._v("close")])],1),n("v-toolbar-title",[t._v("添加")]),n("v-spacer"),n("v-toolbar-items")],1),n("v-form",{staticClass:"pa-4"},[n("v-text-field",{attrs:{type:"text",outline:"","prepend-icon":"person",label:"姓名",autofocus:""},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}}),n("v-combobox",{attrs:{outline:"","prepend-icon":"category",items:["生子","结婚","其他"],label:"事项"},model:{value:t.formData.type,callback:function(e){t.$set(t.formData,"type",e)},expression:"formData.type"}}),n("v-text-field",{attrs:{type:"number",outline:"","prepend-icon":"attach_money",label:"金额"},model:{value:t.formData.amount,callback:function(e){t.$set(t.formData,"amount",e)},expression:"formData.amount"}}),n("v-textarea",{attrs:{outline:"","prepend-icon":"bookmarks",label:"备注"},model:{value:t.formData.remark,callback:function(e){t.$set(t.formData,"remark",e)},expression:"formData.remark"}}),n("v-btn",{attrs:{block:"",color:"primary",large:""},on:{click:t.onBtnAddSubbmit}},[t._v("添加")])],1)],1)],1)],1)},o=[],r=(n("7514"),n("7f7f"),n("ac6a"),n("cadf"),n("551c"),n("097d"),n("c549")),i={name:"GiftMoney",components:{BottomNav:r["a"]},data:function(){return{headers:[{text:"时间",value:"createdAt",class:"",sortable:!0},{text:"姓名",value:"name",class:"",sortable:!0},{text:"事项",value:"type",class:"",sortable:!0},{text:"金额",value:"amount",class:"",sortable:!0}],items:[],formData:{},dialog:!1}},created:function(){this.fetchData()},computed:{totalAmount:function(){var t=0;return this.items.forEach(function(e){t+=parseFloat(e.amount)}),t}},methods:{typeColorClass:function(t){switch(t){case"结婚":return"red--text";case"生子":return"blue--text";case"其他":return"green--text";default:break}},onBtnAddClick:function(){this.dialog=!this.dialog},fetchData:function(){var t=this,e=this.$_AV,n=new e.Query(this.$options.name);n.find().then(function(e){t.items=e.map(function(t){return{name:t.attributes.name,type:t.attributes.type,amount:t.attributes.amount,remark:t.attributes.remark,createdAt:t.createdAt,id:t.id}})})},onBtnDeleteClick:function(t){var e=this,n=this.$_AV.Object.createWithoutData(this.$options.name,t.item.id);n.destroy().then(function(n){e.items.splice(t.index,1)},function(t){console.log(t)})},onBtnAddSubbmit:function(){var t=this,e=this.$_AV.Object.extend(this.$options.name),n=new e;n.set("name",this.formData.name),n.set("type",this.formData.type),n.set("amount",this.formData.amount),n.set("remark",this.formData.remark),n.save().then(function(e){t.fetchData(),t.dialog=!1})}}},c=i,s=(n("82d2"),n("2877")),u=Object(s["a"])(c,a,o,!1,null,"1b950b65",null);u.options.__file="GiftMoney.vue";e["default"]=u.exports},"0a49":function(t,e,n){var a=n("9b43"),o=n("626a"),r=n("4bf8"),i=n("9def"),c=n("cd1c");t.exports=function(t,e){var n=1==t,s=2==t,u=3==t,l=4==t,f=6==t,m=5==t||f,d=e||c;return function(e,c,v){for(var p,b,h=r(e),y=o(h),k=a(c,v,3),_=i(y.length),g=0,D=n?d(e,_):s?d(e,0):void 0;_>g;g++)if((m||g in y)&&(p=y[g],b=k(p,g,h),t))if(n)D[g]=b;else if(b)switch(t){case 3:return!0;case 5:return p;case 6:return g;case 2:D.push(p)}else if(l)return!1;return f?-1:u||l?l:D}}},1169:function(t,e,n){var a=n("2d95");t.exports=Array.isArray||function(t){return"Array"==a(t)}},"27af":function(t,e,n){"use strict";var a=n("de35"),o=n.n(a);o.a},7514:function(t,e,n){"use strict";var a=n("5ca1"),o=n("0a49")(5),r="find",i=!0;r in[]&&Array(1)[r](function(){i=!1}),a(a.P+a.F*i,"Array",{find:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")(r)},"7f7f":function(t,e,n){var a=n("86cc").f,o=Function.prototype,r=/^\s*function ([^ (]*)/,i="name";i in o||n("9e1e")&&a(o,i,{configurable:!0,get:function(){try{return(""+this).match(r)[1]}catch(t){return""}}})},"82d2":function(t,e,n){"use strict";var a=n("9e76"),o=n.n(a);o.a},"9e76":function(t,e,n){},ac6a:function(t,e,n){for(var a=n("cadf"),o=n("0d58"),r=n("2aba"),i=n("7726"),c=n("32e9"),s=n("84f2"),u=n("2b4c"),l=u("iterator"),f=u("toStringTag"),m=s.Array,d={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},v=o(d),p=0;p<v.length;p++){var b,h=v[p],y=d[h],k=i[h],_=k&&k.prototype;if(_&&(_[l]||c(_,l,m),_[f]||c(_,f,h),s[h]=m,y))for(b in a)_[b]||r(_,b,a[b],!0)}},c549:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-bottom-nav",{attrs:{fixed:"",value:!0,color:"primary"}},[n("v-btn",{attrs:{dark:"",value:"home"},on:{click:t.onBtnHome}},[n("span",[t._v("首页")]),n("v-icon",[t._v("home")])],1),n("v-btn",{attrs:{dark:"",value:"add"},on:{click:function(e){return e.preventDefault(),t.onBtnAdd(e)}}},[n("span",[t._v("添加")]),n("v-icon",[t._v("add")])],1)],1)},o=[],r={name:"BottomNav",data:function(){return{bottomNav:"home"}},created:function(){},components:{},computed:{},methods:{onBtnHome:function(){this.$router.push({name:"Home"})},onBtnAdd:function(){this.$emit("addClick")},onBtnSettings:function(){this.$emit("settingsClick")}}},i=r,c=(n("27af"),n("2877")),s=Object(c["a"])(i,a,o,!1,null,"6639f8bd",null);s.options.__file="BottomNav.vue";e["a"]=s.exports},cd1c:function(t,e,n){var a=n("e853");t.exports=function(t,e){return new(a(t))(e)}},de35:function(t,e,n){},e853:function(t,e,n){var a=n("d3f4"),o=n("1169"),r=n("2b4c")("species");t.exports=function(t){var e;return o(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!o(e.prototype)||(e=void 0),a(e)&&(e=e[r],null===e&&(e=void 0))),void 0===e?Array:e}}}]);
//# sourceMappingURL=chunk-7c36fc5d-legacy.5a657623.js.map